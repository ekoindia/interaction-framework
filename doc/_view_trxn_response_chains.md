# _view_trxn_response_chains

## Description

VIEW

<details>
<summary><strong>Table Definition</strong></summary>

```sql
CREATE VIEW _view_trxn_response_chains AS (select `i`.`id` AS `trxn_id`,`i`.`label` AS `trxn_label`,`r`.`id` AS `resp_id`,`r`.`response_type_id` AS `resp_type_id`,`st`.`name` AS `resp_status`,`r`.`pre_msg_template` AS `pre_msg`,`r`.`_context` AS `resp_cntxt`,`ic`.`id` AS `chn_id`,`ic`.`label` AS `chn_lbl`,`ic`.`chain_behavior_id` AS `chn_behvr_id`,`ni`.`id` AS `nxt_trxn_id`,`ni`.`label` AS `nxt_trxn_lbl`,`ic`.`is_hidden` AS `chn_hidden`,`ic`.`is_automatic` AS `chn_auto`,`ic`.`auto_fire_next_request` AS `chn_auto_nxt`,`ic`.`is_going_back` AS `chn_go_back`,`ic`.`go_back_steps` AS `chn_back_steps`,`ic`.`validate` AS `chn_valid`,`ic`.`icon` AS `chn_ico`,`ic`.`toast` AS `chn_toast`,`p`.`id` AS `prm_id`,`p`.`name` AS `prm_name`,if((isnull(`p`.`label_response`) or (`p`.`label_response` = '')),`p`.`label`,`p`.`label_response`) AS `prm_lbl`,`p`.`value` AS `prm_val` from (((((((`transaction_framework`.`response_interaction_map` `rm` left join `transaction_framework`.`interactions` `i` on((`rm`.`interaction_id` = `i`.`id`))) left join `transaction_framework`.`responses` `r` on((`r`.`id` = `rm`.`response_id`))) left join `transaction_framework`.`response_status` `st` on((`r`.`response_status_id` = `st`.`id`))) left join `transaction_framework`.`interaction_chains` `ic` on((`ic`.`response_interaction_map_id` = `rm`.`id`))) left join `transaction_framework`.`interactions` `ni` on((`ic`.`next_interaction_id` = `ni`.`id`))) left join `transaction_framework`.`interaction_chain_input_parameters` `icp` on((`ic`.`id` = `icp`.`interaction_chain_id`))) left join `transaction_framework`.`parameters` `p` on((`icp`.`parameter_id` = `p`.`id`))) where (`ic`.`id` is not null) order by `i`.`id`,`r`.`id`,`ic`.`id`)
```

</details>

## Columns

| Name | Type | Default | Nullable | Children | Parents | Comment |
| ---- | ---- | ------- | -------- | -------- | ------- | ------- |
| trxn_id | int(11) | 0 | true |  |  |  |
| trxn_label | varchar(100) |  | true |  |  |  |
| resp_id | int(11) |  | true |  |  |  |
| resp_type_id | int(11) |  | true |  |  |  |
| resp_status | varchar(20) |  | true |  |  |  |
| pre_msg | varchar(600) |  | true |  |  |  |
| resp_cntxt | varchar(250) |  | true |  |  | more info about this response for internal usage |
| chn_id | int(11) | 0 | true |  |  |  |
| chn_lbl | varchar(255) |  | true |  |  |  |
| chn_behvr_id | int(11) | 1 | true |  |  | chain behavior if this will normal, external url, payment_gateway etc<br>1=Normal Chain (Normal Chain for bi-directional linking tf-response with new tf-request)<br>2=External URL (For opening external URL like shopping sites, sbi url for H2H etc)<br>3=Payment Gatement (For bi-directional linking of tf-request,tf-response and external payment gateway website) |
| nxt_trxn_id | int(11) | 0 | true |  |  |  |
| nxt_trxn_lbl | varchar(100) |  | true |  |  |  |
| chn_hidden | decimal(1,0) | 0 | true |  |  | Do not show the chain. It is activted automatically (maybe through Customer-Profile-Stub, etc.) |
| chn_auto | decimal(1,0) | 0 | true |  |  | Don't ask/suggest; just goto the chained trxn (if True) |
| chn_auto_nxt | decimal(1,0) | 0 | true |  |  | Automatically fire/submit the next chained request (Unless the user is going back to EDIT that request-card) |
| chn_go_back | decimal(1,0) | 0 | true |  |  | Is the chain meant to go back to an EXISTING/VISIBLE REQUEST CARD (retry) in the interaction flow? |
| chn_back_steps | int(2) | 0 | true |  |  | Manual number of steps to go-back (replace prev trxn boxes). If is_going_back is 1, ignore next_interaction_id (specially, if not found) and find next interaction card by going back the specified number of steps |
| chn_valid | varchar(255) |  | true |  |  | Use an expression to evaluate the visibility of chain based on other parameters (in response).<br>Expression example: ['&&', ['==', '{a}', '{b}'], ['<', '{a}', '{c}']]<br>(I.e, Enable this chain when parameters a == b and a < c) |
| chn_ico | varchar(30) | go | true |  |  | icon for chain: go/repeat/refresh/back/add/remove/edit/etc. |
| chn_toast | varchar(500) |  | true |  |  |  |
| prm_id | int(11) | 0 | true |  |  |  |
| prm_name | varchar(50) |  | true |  |  | Parameter name to be sent as name/value pair to the server. If blank, the parameter is not sent to the server. |
| prm_lbl | varchar(100) |  | true |  |  |  |
| prm_val | varchar(1000) |  | true |  |  |  |

## Relations

![er](_view_trxn_response_chains.png)

---

> Generated by [tbls](https://github.com/k1LoW/tbls)
